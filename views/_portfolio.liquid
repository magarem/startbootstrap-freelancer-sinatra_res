<script>
  
    var mod = angular.module("myapp", []);
    mod.controller("myCtrl", function($scope){
        $scope.images = {{data_portfolio_json}}
        
        $scope.currentImage = $scope.images[0];
        $scope.imageCategories = [{{port_cats}}];
        
        $scope.valueSelected = function (value) {

            if (value === null) {
                $scope.catselect = undefined;
            }
        };    
    });
</script>

  <section id="portfolio" ng-controller="myCtrl">
    <div class="container">
       <div class="row">
          <div class="col-lg-12 text-center">
              <h2>{{site.pages.portfolio.label}}</h2>
              <hr class="star-primary">                
          </div>
       </div>
       <div class="row">
           <div class="text-center">
             <select ng-model="catselect"
               ng-options="cat for cat in imageCategories"
               ng-change="valueSelected(catselect)">
              <option value>Categoria</option>
             </select>
           </div>
       </div>
       <div class="clearfix"></div>
       <br />
       <style>
          .crop {
            width: 380px;
            height: 240px;
            overflow: hidden;
          }
       </style>
       {% raw  %}
        <div class="row"> 
              <div ng-repeat="image in images | filter:(!!catselect || undefined) && {cat: catselect}">               
                <div class="col-sm-4  crop" style="margin-bottom: 10px;">
                  <a href="#portfolioModal{{image.id}}" class="portfolio-link" data-toggle="modal">               
                    <img id="port_img_mini_{{image.id}}" src="{{image.img}}" class="img-responsive centered-and-cropped"  alt="">
                    <span class="item-desc">{{image.titulo}}</span>
                  </a>
                </div>
              </div>
        </div>
        {% endraw  %}
    </div>
  </section>



